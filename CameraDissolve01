def CameraDissolve():
    # select nodes
    sNodes = nuke.selectedNodes()

    # name the Cameraw
    aCamNode = sNodes[-1]
    bCamNode = sNodes[0]

    # get Camera Name 
    aCamName = aCamNode.name()
    bCamName = bCamNode.name()


    print (aCamNode.name())
    print (bCamNode.name())

    # DisSelected Node
    for node in sNodes:
        node['selected'].setValue(0)

    # Create new Camera
    nCamera = nuke.createNode('Camera3')
    nCamera['tile_color'].setValue(0x7f00ffff)
    nCamera['label'].setValue('CameraDissolve')


    # Create custom CamDissove tag and knobs 
    camMixSliderTab = nuke.Tab_Knob('cameraDissolveTab', 'CamDissolve')
    aCamTimeOffsetknob = nuke.Int_Knob('aCameraOffset', 'A Cam Time Offset',0)
    bCamTimeOffsetknob = nuke.Int_Knob('bCameraOffset', 'B Cam Time Offset',0)   
    camMixSliderKnob = nuke.Double_Knob('camDissolve','Camera Dissolve')
    
    # Collect all the knob as List

    panelKnobs = [camMixSliderTab,aCamTimeOffsetknob,bCamTimeOffsetknob,camMixSliderKnob]
    
    # Add all the knobs to Panel 
    
    for panelKnobs in panelKnobs:
        nCamera.addKnob(panelKnobs) 
   

    # Get All The Knob Would Like to Blend

    knobsList =[
    'translate','rotate','scaling','uniform_scale','skew',
    'pivot_translate','pivot_rotate','focal','haperture','vaperture',
    'near','far','win_translate','win_scale','winroll','focal_point','fstop'
    ]

    #aCamOffsetValue = int(nCamera['aCameraOffset'].getValue())
    #bCamOffsetValue = int(nCamera['bCameraOffset'].getValue())

    #aCamOffsetExpressionText = '({}-{})'.format('frame',aCameraOffset)
    #bCamOffsetExpressionText = '({}-{})'.format('frame',bCameraOffset)
    #print (aCamOffsetExpressionText)    


    #setup the expression  



    for knob in knobsList:
        
        nCamera[knob].setExpression('lerp({}.{}{},{}.{}{},{})'.format(aCamName,knob,'(frame-aCameraOffset)',bCamName,knob,'(frame-bCameraOffset)','camDissolve'))
        
        
CameraDissolve()



